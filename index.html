<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="viewport" content="width=640" />

    <link rel="stylesheet" href="stylesheets/core.css" media="screen"/>
    <link rel="stylesheet" href="stylesheets/mobile.css" media="handheld, only screen and (max-device-width:640px)"/>
    <link rel="stylesheet" href="stylesheets/pygment_trac.css"/>

    <script type="text/javascript" src="javascripts/modernizr.js"></script>
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
    <script type="text/javascript" src="javascripts/headsmart.min.js"></script>
    <script type="text/javascript">
      $(document).ready(function () {
        $('#main_content').headsmart()
      })
    </script>
    <title>Jquery.ajaxzip.js by yamitake</title>
  </head>

  <body>
    <a id="forkme_banner" href="https://github.com/yamitake/jquery.ajaxzip.js">View on GitHub</a>
    <div class="shell">

      <header>
        <span class="ribbon-outer">
          <span class="ribbon-inner">
            <h1>Jquery.ajaxzip.js</h1>
            <h2>custom AjaxZip 2.0 - Ajax郵便番号→住所自動入力フォーム（CGI不要版） http://www.kawa.net/works/ajax/ajaxzip2/ajaxzip2.html</h2>
          </span>
          <span class="left-tail"></span>
          <span class="right-tail"></span>
        </span>
      </header>

      <section id="downloads">
        <span class="inner">
          <a href="https://github.com/yamitake/jquery.ajaxzip.js/zipball/master" class="zip"><em>download</em> .ZIP</a><a href="https://github.com/yamitake/jquery.ajaxzip.js/tarball/master" class="tgz"><em>download</em> .TGZ</a>
        </span>
      </section>


      <span class="banner-fix"></span>


      <section id="main_content">
        <h3>概要</h3>
<p>
kawa.netで提供されている<a href="http://www.kawa.net/works/ajax/ajaxzip2/ajaxzip2.html" target="_blank">AjaxZip 2.0 - Ajax郵便番号→住所自動入力フォーム（CGI不要版]</a>を元に作成したjquery pluginです。
郵便番号から住所情報の取得をすることができます。
</p>

<h3>デモ</h3>
<p>
  入力された郵便番号をもとに住所情報を取得するデモです。
</p>


<script type="text/javascript" src="jquery.ajaxzip.js"></script>
<!-- demo1のソースここから jqueryとjquery.ajaxzip.jsを読み込んでいる事 -->
<h4>デモ1</h4>
<p>郵便番号を入力しボタンを押すと情報を取得します。</p>
<div id="demo1">
  <p>
    <form onSubmit="return false;">
      郵便番号:<input name="zip" value="164-0001" type="text"></input>
      <button id="demo1_zip2addr">郵便番号から住所情報を取得</button>
    </form>
  </p>
  <div id="demo1_result" style="padding:10px;background:#efefef;">
    結果が表示されます。
  </div>
</div>
<script type="text/javascript">
      $(function() {
        $("#demo1_zip2addr").click(function(){
          var zipcode = $("#demo1 input[name='zip']").val();

          $.ajaxzip(zipcode , {
            success: function(data){
              $("#demo1_result").html("");

              for (var key in data) {
                $("#demo1_result").append(key + ":" + data[key] + '<br>');
              }
            },
            error: function(data){
              $("#demo1_result").html("status:" + data.status);
              $("#demo1_result").append("<br>message:" + data.message);
            }
          });
        });

      });
</script>
<!-- demo1のソースここまで -->

<!-- demo2のソースここから -->
<h4>デモ2</h4>
<p>
  郵便番号をフォーカスアウトすると住所の自動入力が行われます。
  普段のフォーム入力の要に郵便番号にフォーカスしてから先を入力しようとしてみてください。
</p>
<form id="demo2" onSubmit="return false;">
  <table>
    <tr>
      <th>郵便番号</th>
      <td>
        <input id="zip_code" name="zipcode" value="103-0002" type="text" name="address" />
        <span id="loading"/></span>
      </td>
    </tr>
    <tr>
      <th>都道府県</th>
      <td><input name="prefecture" type="text" name="address" /></td>
    </tr>
    <tr>
      <th>市区</th>
      <td><input name="city" type="text" name="address" /></td>
    </tr>
    <tr>
      <th>それ以降の住所</th>
      <td>
        <input name="town" type="text" name="address" />
      </td>
    </tr>
  </table>
</form>
<script type="text/javascript">
  $(function() {
    $("#zip_code").focusout(function(){
      var zipcode = $(this).val();

      $("#loading").text("情報取得中");

      $.ajaxzip(zipcode , {
        success: function(data){
          $("#demo2 input[name='prefecture']").val(data.pref)
          $("#demo2 input[name='city']").val(data.city);
          $("#demo2 input[name='town']").val(data.town);

          $("#loading").text("完了");
        },
        error: function(data){
          $("#loading").text("住所が存在しません");
        }
      });
    });

  });
</script>
<!-- demo2のソースここまで -->

<h3>How To Use</h3>
<pre>
  <code>$ cd your_repo_root/repo_name
$ git fetch origin
$ git checkout gh-pages
</code></pre>

<p>
  If you're using the GitHub for Mac, simply sync your repository and you'll see the new branch.
</p>

<h3>Support or Contact</h3>
<a href="https://github.com/yamitake/jquery.ajaxzip.js#readme">readme on github</a>
<p>
  <a href="https://twitter.com/yamitake" target="_blank">Twitter:@yamitake</a>
</p>

<p>
<!-- X:S ZenBackWidget -->
<script type="text/javascript">
document.write(unescape("%3Cscript") + " src='http://widget.zenback.jp/?base_uri=http%3A//yamitake.github.com&nsid=101357009454016841%3A%3A106054894342926339&rand=" + Math.ceil((new Date() * 1) * Math.random()) + "' type='text/javascript'" + unescape("%3E%3C/script%3E"));
</script><!-- X:E ZenBackWidget -->
</p>

      </section>

      <footer>
        <span class="ribbon-outer">
          <span class="ribbon-inner">
            <p>this project by <a href="https://github.com/yamitake">yamitake</a> can be found on <a href="https://github.com/yamitake/jquery.ajaxzip.js">GitHub</a></p>
          </span>
          <span class="left-tail"></span>
          <span class="right-tail"></span>
        </span>
        <p>Generated with <a href="http://pages.github.com">GitHub Pages</a> using Merlot</p>
        <span class="octocat"></span>
      </footer>

    </div>

              <script type="text/javascript">
            var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
            document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
          </script>
          <script type="text/javascript">
            try {
              var pageTracker = _gat._getTracker("UA-1623421-6");
            pageTracker._trackPageview();
            } catch(err) {}
          </script>

  </body>
</html>
